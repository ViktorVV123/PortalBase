@use '@/assets/styles/fluid-type' as *;

$border: #e5e5e5;
$gray-95: #fafafa;
$gray-90: #f3f3f3;
$error: #d33;

/* ‚îÄ‚îÄ‚îÄ –±–∞–∑–æ–≤–æ–µ ‚îÄ‚îÄ‚îÄ */
.wrapper {
  padding: 10px;
  display: flex;
  flex-direction: column;
  min-height: calc(100vh - 80px); // 80px ‚Äì –≤—ã—Å–æ—Ç–∞ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏
  overflow-x: hidden; // üëà —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–ï —Å–∫—Ä–æ–ª–ª–∏—Ç—Å—è –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
}

.loaderArea {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.breadcrumb {
  @include fluid-type(18, 20);
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 6px;
}

.arrow {
  @include fluid-type(14, 16);
  opacity: .6;
}

h2 {
  margin: 0 0 16px;
  @include fluid-type(18, 20);
  font-weight: 600;
}

.headRow {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 15px;
}

.widgetBlock {
  margin-top: 32px;
}

.placeholder {
  color: #888;
  padding: 24px 0;
}

.error {
  color: $error;
  padding: 16px 0;
}

/* ‚îÄ‚îÄ‚îÄ —Ä–∞—Å–∫–ª–∞–¥–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ ‚îÄ‚îÄ‚îÄ */
.contentRow {
  display: flex;
  gap: 10px;
  position: relative;
  height: calc(100vh - 80px);
  min-height: 0;
  /* –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª —É —Å—Ç—Ä–æ–∫–∏ –Ω–µ –Ω—É–∂–µ–Ω, –æ–Ω –≤–Ω—É—Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü */
}

.mainCol {
  display: flex;
  flex-direction: column;
  gap: 20px;
  flex: 1 1 auto;
  min-height: 0;
  min-width: 0; /* üëà –≤–∞–∂–Ω–æ: –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∂–∏–º–∞—Ç—å—Å—è –ø–æ —à–∏—Ä–∏–Ω–µ */
}

/* ‚îÄ‚îÄ‚îÄ –°–ö–†–û–õ–õ –¢–û–õ–¨–ö–û –î–õ–Ø MainTable ‚îÄ‚îÄ‚îÄ */
.mainTableScroll {
  flex: 1 1 auto;
  min-height: 0;
  min-width: 0;
  max-width: 100%;    /* üëà –Ω–µ —à–∏—Ä–µ –∫–æ–ª–æ–Ω–∫–∏/—ç–∫—Ä–∞–Ω–∞ */

  overflow-x: auto;   /* üëà –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å */
  overflow-y: auto;
  border-radius: 4px;

  &::-webkit-scrollbar {
    height: 5px;
    width: 8px;
  }

  &::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-track {
    background: #3a3a3a;
  }
}

/* –≤—ã—Å–æ—Ç–∞ 1-–π —Å—Ç—Ä–æ–∫–∏ thead –ø–æ–¥ —Ç–≤–æ—é —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫—É */
:root {
  --head-row-1: 40px;
}

/* ‚îÄ‚îÄ‚îÄ —Å–∞–º–∞ —Ç–∞–±–ª–∏—Ü–∞ ‚îÄ‚îÄ‚îÄ */
.tbl {
  width: max-content;  /* —à–∏—Ä–∏–Ω–∞ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É */
  min-width: 100%;     /* –Ω–æ –Ω–µ —É–∂–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
  table-layout: fixed; /* —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —à–∏—Ä–∏–Ω—ã —á–µ—Ä–µ–∑ colgroup */
  border-collapse: separate;
  border-spacing: 0;
  @include fluid-type(13, 16);
}

/* –±–∞–∑–æ–≤—ã–µ —è—á–µ–π–∫–∏ */
.tbl th,
.tbl td {
  font-size: 14px;
  border: 1px solid $border;
  padding: 4px 6px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 320px; /* —á—Ç–æ–±—ã –æ–≥—Ä–æ–º–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –Ω–µ —Ä–∞–∑–¥—É–≤–∞–ª–∏ —è—á–µ–π–∫—É –ø–æ –≤—ã—Å–æ—Ç–µ */
}

/* —à–∞–ø–∫–∞ */
.tbl thead th {
  background: var(--header-color);
  color: #eee;
  font-weight: 500;
  @include fluid-type(16, 20);
  z-index: 2;
}

/* 1-—è —Å—Ç—Ä–æ–∫–∞ —à–∞–ø–∫–∏ (–≥—Ä—É–ø–ø—ã) */
.tbl thead tr:nth-child(1) th {
  position: sticky;
  top: 0;
  z-index: 3;
  height: var(--head-row-1);
}

/* 2-—è —Å—Ç—Ä–æ–∫–∞ —à–∞–ø–∫–∏ (–ø–æ–¥–ø–∏—Å–∏) */
.tbl thead tr:nth-child(2) th {
  position: sticky;
  top: var(--head-row-1);
  z-index: 3;
}

/* —Ç–µ–ª–æ */
.tbl td {
  color: #ddd;
  background: transparent;
}

/* hover —Å—Ç—Ä–æ–∫ —Ç–µ–ª–∞ */
.tbl tbody tr:hover {
  background: var(--hover-color);
}

/* –∫—É—Ä—Å–æ—Ä-—Ä—É–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ —Ç–µ–ª—É */
.tbl tbody td {
  cursor: pointer;
}

/* –≤—ã–±—Ä–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ */
.selectedRow {
  background: var(--hover-color);
}
.selectedRow td {
  font-weight: 600;
}

/* –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç —Å —Ç—Ä–æ–µ—Ç–æ—á–∏–µ–º */
.ellipsis {
  display: block;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.tbl thead tr:nth-child(2) .ellipsis {
  white-space: normal;      // —Ä–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å
  word-break: break-word;   // –ª–æ–º–∞–µ–º –¥–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
  text-overflow: clip;      // —É–±–∏—Ä–∞–µ–º —Ç—Ä–æ–µ—Ç–æ—á–∏–µ
}
/* –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π clamp ‚Äì –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å */
.clamp {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: var(--lines, 2);
  overflow: hidden;
  white-space: normal;
  word-break: break-word;
}

/* ‚îÄ‚îÄ‚îÄ –∏–Ω–ø—É—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã (–≤ —Ç.—á. MUI) ‚îÄ‚îÄ‚îÄ */

.tbl input,
.tbl select {
  width: 100%;
  min-width: 0;
  box-sizing: border-box;
  font-size: 13px;
}

/* MUI-–æ–±—ë—Ä—Ç–∫–∞ TextField / Select */
.tbl :global(.MuiInputBase-root) {
  width: 100%;
}

/* datetime / date / time ‚Äì —á—Ç–æ–±—ã –≤—ã–≥–ª—è–¥–µ–ª–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –Ω–∞ —Ç—ë–º–Ω–æ–º —Ñ–æ–Ω–µ */
.dateTimeInput {
  input {
    color: #fff;

    &::-webkit-calendar-picker-indicator {
      filter: invert(1);
      opacity: 1;
    }

    &::-webkit-inner-spin-button {
      filter: invert(1);
    }

    &::-webkit-clear-button {
      filter: invert(1);
    }
  }
}

/* read-only —è—á–µ–π–∫–∏ ‚Äì –∫—É—Ä—Å–æ—Ä –æ–±—ã—á–Ω—ã–π –∏ —Ç–µ–∫—Å—Ç –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª—è—Ç—å */
.cellReadonly {
  cursor: default;
}
.readonlyValue {
  user-select: text;
  pointer-events: none;
  opacity: .85;
}

/* ‚îÄ‚îÄ‚îÄ actions-–∫–æ–ª–æ–Ω–∫–∞ ‚îÄ‚îÄ‚îÄ */

.actionsCell {
  padding: 0 4px;
  text-align: center;
  white-space: nowrap;
  width: 1%; /* –∫–æ–ª–æ–Ω–∫–∞ —Å—Ç–∞—Ä–∞–µ—Ç—Å—è –∑–∞–Ω–∏–º–∞—Ç—å –º–∏–Ω–∏–º—É–º —à–∏—Ä–∏–Ω—ã */
}

.actionsRow {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
}

.actionsBtn {
  background: none;
  border: 0;
  padding: 0;
  width: 20px;
  height: 20px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color:white;
}

.actionsBtnDisabled {
  cursor: not-allowed;
  opacity: 0.4;
}

.lockSlot {
  width: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

/* –æ–¥–Ω–∞ –≤–µ—Ä—Å–∏—è .actionIcon */
.actionIcon {
  width: 1.1em;
  height: 1.1em;
  color: #d1d0d0;
}

.okBtn,
.cancelBtn {
  background: none;
  border: 0;
  width: 20px;
  height: 20px;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  line-height: 1;
  color: #ccc;
  fill: #ccc;
  cursor: pointer;
  transition: color .15s, fill .15s;
}

.actionIcon:hover,
.okBtn:hover,
.cancelBtn:hover {
  color: #fff;
  fill: #fff;
}

/* ‚îÄ‚îÄ‚îÄ –∏–Ω–ø—É—Ç—ã –≤ —è—á–µ–π–∫–∞—Ö ‚îÄ‚îÄ‚îÄ */
.inp, .inpN {
  width: 100%;
  box-sizing: border-box;
  padding: 2px 4px;
  font: inherit;
  color: inherit;
  background: #1e1e1e;
  border-radius: 3px;
}

.inpN {
  text-align: right;
}

/* ‚îÄ‚îÄ‚îÄ –±–ª–æ–∫ –¥–µ—Ä–µ–≤–∞ / —Å—Å—ã–ª–∫–∏ / –≤–∫–ª–∞–¥–∫–∏ –∏ —Ç.–ø. –Ω–∏–∂–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚îÄ‚îÄ‚îÄ */

.treeList {
  margin-bottom: 24px;
}

.treeHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--header-color);
  color: #fff;
  font-weight: 600;
  padding: 6px 10px;
  border-radius: 4px;
  margin-bottom: 6px;
  gap: 10px;
}

.treeUl {
  list-style: none;
  margin: 0;
  padding: 0;
  position: relative;
  max-height: 66vh;
  overflow-y: auto;
  min-height: 0;

  &::-webkit-scrollbar {
    width: 6px;
  }

  &::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, .2);
    border-radius: 6px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }
}

.treeItem {
  padding: 6px 12px;
  margin-bottom: 4px;
  background: #2e2e2e;
  color: #eee;
  border: 1px solid #444;
  border-radius: 4px;
  cursor: pointer;
  transition: background .15s;
  flex: 1 1 auto;
  min-height: 0;
  max-height: 140px;
  overflow-y: auto;
  overflow-x: hidden;
  padding-right: 8px;
  word-break: break-word;
  white-space: normal;

  &:hover {
    background: var(--hover-color);
  }

  &::-webkit-scrollbar {
    width: 6px;
  }

  &::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, .2);
    border-radius: 6px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }
}

/* ... –æ—Å—Ç–∞–ª—å–Ω–æ–µ (nestedUl, link, tabs, dateTimeInput –≤—Ç–æ—Ä–æ–π —Ä–∞–∑) –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å,
   –æ–Ω–∏ –Ω–∞ —à–∏—Ä–∏–Ω—É —Ç–∞–±–ª–∏—Ü—ã –Ω–µ –≤–ª–∏—è—é—Ç */





